<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0045)http://www.webmasterworld.com/php/3753255.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">


<meta name="keywords" content="session,management,server,side,scripting,webmaster,WebmasterWorld">
<meta name="Description" content="How to check if session has expired? php session management">

<meta name="GOOGLEBOT" content="NOARCHIVE">
 <meta name="ROBOTS" content="NOARCHIVE">






<link rel="alternate" title="PHP Server Side Scripting Channel at SearchEngineWorld" href="http://www.webmasterworld.com/feeds/forum88.rss" type="application/rss+xml">

<link rel="SHORTCUT ICON" href="http://www.webmasterworld.com/favicon.ico">
<script type="text/javascript" async="" src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/ga.js"></script><script type="text/javascript" src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/plusone.js"></script><script src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/googleapis.client__plusone.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24274747-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<meta name="google-site-verification" content="aVNm30CBlQEDYg6WFOitP8isC8BRFmMSeFUJ-O47_jI">
<title>PHP session management PHP Server Side Scripting forum at WebmasterWorld  </title>
<style type="text/css">
<!--
body {margin: 1px;	padding: 0px; } a {	text-decoration: underline } a:hover { 	color: #ff0000;	background: #ffff00;	text-decoration: underline;}
-->
</style>
</head><body bgcolor="#fafafa" link="#000000" vlink="#000000" text="#000000">
<!-- top -->

<center><table cellpadding="4" border="0" width="81%" height="99"><tbody><tr><td bgcolor="#e8e8f4" height="100%"><center><table cellspacing="1" cellpadding="0" border="0" width="100%" height="100%"><tbody><tr><td bgcolor="#FFFFFF" valign="middle"><center><table cellspacing="0" cellpadding="0" border="0" width="100%"><tbody><tr><td valign="middle"><a name="home"></a><a href="http://www.webmasterworld.com/"><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/logo.png" align="left" border="0" hspace="7" vspace="0" alt="homepage" title="homepage"></a><font size="1" face="arial" color="#000000"> Welcome to WebmasterWorld <b>Guest from 49.136.167.35</b> </font>  <br> <a href="http://www.webmasterworld.com/regv5.cgi"><font size="1" face="arial" color="#000000"> register</font></a>,  <a href="http://www.webmasterworld.com/login.cgi"><font size="1" face="arial" color="#000000"> login</font></a>, <a href="http://www.webmasterworld.com/searchform.cgi"><font size="1" face="arial" color="#000000">search</font></a>, <a href="http://www.webmasterworld.com/glossary/index.htm"><font size="1" face="arial" color="#000000">glossary</font></a>, <a href="http://www.webmasterworld.com/donate.htm"><font size="1" face="arial" color="#000000">subscribe</font></a>, <a href="http://www.webmasterworld.com/help.cgi?cat=help"><font size="1" face="arial" color="#000000">help</font></a>, <a href="http://www.webmasterworld.com/library.htm"><font size="1" face="arial" color="#000000">library</font></a>, <a href="http://www.pubcon.com/"><font size="1" face="arial" color="#000000">PubCon</font></a>, <a href="http://www.webmasterworld.com/announcementv5.cgi?forum=main"><font size="1" face="arial" color="#000000"> announcements</font></a>,  <a href="http://www.webmasterworld.com/active.htm"><font size="1" face="arial" color="#000000">recent posts</font></a>, <a href="http://www.webmasterworld.com/activev5.cgi?sortbj=Message-Count&sortdir=forward&ashow=20"><font size="1" face="arial" color="#000000">open posts</font></a>,<br></td><td align="right"><font size="1" face="arial" color="#000000"><a href="http://www.pubcon.com/exhibitor/visibility.htm" target="_top">PubCon Media Partner<br><img border="0" alt="" src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/visibility_magazine_logo.jpg"></a></font></td></tr></tbody></table></center></td></tr></tbody></table></center></td></tr></tbody></table> </center><!-- top -->


<!-- /top -->
<center>


<!-- ttitle -->

<!-- /ttitle -->


</center>

<center><table cellpadding="0" border="0" width="81%"><tbody><tr><td bgcolor="#e8e8f4"><table cellspacing="0" cellpadding="3" border="0" width="100%"><tbody><tr bgcolor="#aaaaff"><td><font size="2" face="arial" color="#000000"><b> <a href="http://www.webmasterworld.com/">Home</a> / <a href="http://www.webmasterworld.com/home.htm">Forums Index</a> / <a href="http://www.webmasterworld.com/category88.htm">Code, Content, and Presentation</a> / <a href="http://www.webmasterworld.com/php/">PHP Server Side Scripting</a> 
</b></font></td></tr></tbody></table></td></tr></tbody></table></center>

<center><table cellpadding="5" cellspacing="0" border="0" width="81%"><tbody><tr bgcolor="#e0e0e0"><td> <font size="1" face="verdana" color="#000000">Forum	 <a href="http://www.webmasterworld.com/libraryv5.cgi?viewforum=88">Library</a> : <a href="http://www.webmasterworld.com/php/charter.htm">Charter</a> :  Moderators: <b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=coopster"><font size="1" face="arial" color="#000000">coopster</font></a> <font size="1"> &amp; </font> <a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=dreamcatcher"><font size="1" face="arial" color="#000000">dreamcatcher</font></a> <font size="1"> &amp; </font> <a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=eelixduppy"><font size="1" face="arial" color="#000000">eelixduppy</font></a> <font size="1"> &amp; </font> <a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=jatar_k"><font size="1" face="arial" color="#000000">jatar k</font></a> </b></font></td><td align="right"></td></tr><tr><td><h1>PHP Server Side Scripting Forum</h1></td><td></td></tr><tr><td><p></p></td></tr></tbody></table></center><p></p><center><p><font color="red"><sup><b>New!</b></sup></font><font size="4"><b><i>Try this search on <a href="http://www.webmasterworld.com/search.cgi?terms=php-how%20to%20find%20a%20session%20has%20just%20expired&action=go&try=1">WebmasterWorld Site Search</a></i></b></font><input type="text" size="15" name="terms" value="php-how to find a session has just expired"><input type="submit" name="submit" value=" Search "><br><br><table cellpadding="0" border="0" width="81%">  <form action="http://www.webmasterworld.com/search.cgi" method="post"></form><input type="hidden" name="action" value="go"><input type="hidden" name="try" value="1">

<tbody><tr><td colspan="2"><font size="2" face="arial">These terms have been highlighted: <font size="2" face="verdana" color="#000000"> <br> <b style="color:black;background-color:#bbbbff">php-how</b> <b style="color:black;background-color:#ffffaa">to</b> <b style="color:black;background-color:#bbffff">find</b> a <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#eeeeff">just</b> <b style="color:black;background-color:#ddddaa">expired</b>  [ <a href="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/PHP session management PHP Server Side Scripting forum at WebmasterWorld.html">remove highlighting</a>]</font></font></td></tr></tbody></table></p></center><p>

<!-- jpgr --></p><center><table cellpadding="1" cellspacing="3" border="0" width="81%"><tbody><tr><td bgcolor="#e8e8f4"><table cellspacing="1" cellpadding="10" border="0" width="99%">

<tbody><tr bgcolor="#e0e0e0"><td colspan="3"><table cellpadding="5" border="0" width="100%"><tbody><tr><td>&nbsp;&nbsp;</td><td align="right"><font size="1" face="" color="#"> &nbsp; <iframe src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/tweet_button.html" allowtransparency="true" frameborder="0" scrolling="no" class="twitter-share-button twitter-count-horizontal" style="width: 110px; height: 20px; " title="Twitter For Websites: Tweet Button"></iframe><script type="text/javascript" src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/widgets.js"></script></font></td></tr></tbody></table></td></tr><tr bgcolor="#000060"><td colspan="3"><b><font size="2" face="arial" color="#ffffff">PHP session management</font></b><br><font size="1" face="arial" color="#ffffff">How to check if session has expired?</font></td></tr>




<!-- post begin -->
<!-- top --><tr bgcolor="#f1c8c8"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=pacpac" target="_blank">pacpac</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3753257&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3753257</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#f1c8c8">&nbsp;<font size="2" face="verdana" color="#000000">7:03 am on Sep 27, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#fcfcfc" height="120"><!-- post 3753257 --><font size="2" face="verdana" color="#000000"> <br> I'm new <b style="color:black;background-color:#ffffaa">to</b> PHP and learning PHP <b style="color:black;background-color:#ffffbb">session</b> management all by myself.  <br>I'm writing a code wherein the administra<b style="color:black;background-color:#ffffaa">to</b>r logs-in and does some tasks like view reports / delete users / file downloads etc. But meanwhile if his <b style="color:black;background-color:#ffffbb">session</b> gets over, he should again be redirected <b style="color:black;background-color:#ffffaa">to</b> the log-in page. <br>My question is how <b style="color:black;background-color:#ffffaa">to</b> check if his <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#ddddaa">expired</b> while he is busy with his admin-tasks? Is there any way <b style="color:black;background-color:#ffffaa">to</b> check this in background using  <br>some background processes or something similar? <br>I've gone through a lot of forums and tu<b style="color:black;background-color:#ffffaa">to</b>rials describing the <b style="color:black;background-color:#ffffbb">session</b>s, cookies, $_<b style="color:black;background-color:#ffffbb">session</b> superglobal array, PHPSESSID. But a few things are still confusing. <br>Can anyone elaborate on this? <br>Thanks.<!-- /post -->  </font><br></td></tr></tbody></table><p>&nbsp;</p><center><table cellpadding="5" border="0" width="99%">

<!-- post end -->




<!-- post begin -->
<!-- top --><tbody><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=cameraman" target="_blank">cameraman</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3753492&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3753492</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">7:58 pm on Sep 27, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#f5f5f5" height="120"><!-- post 3753492 --><font size="2" face="verdana" color="#000000"> <br> Welcome <b style="color:black;background-color:#ffffaa">to</b> Webmaster World, pacpac. <p>As long as the administra<b style="color:black;background-color:#ffffaa">to</b>r is interacting with the web site, the <b style="color:black;background-color:#ffffbb">session</b> stays alive; it will only expire when there's a lapse in interaction that's longer than the <b style="color:black;background-color:#ffffbb">session</b> lifetime. </p></font><p><font size="2" face="verdana" color="#000000">When someone's <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#ddddaa">expired</b>, you won't see the variables that you set in $_<b style="color:black;background-color:#ffffbb">session</b>, <b style="color:black;background-color:#eeeeff">just</b> like someone who's newly arrived at the web site. If you're checking, say, $_<b style="color:black;background-color:#ffffbb">session</b>['admin'] on your admin page <b style="color:black;background-color:#ffffaa">to</b> decide whether or not <b style="color:black;background-color:#ffffaa">to</b> show them the page, $_<b style="color:black;background-color:#ffffbb">session</b>['admin'] will disappear if the <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#ddddaa">expired</b>.<!-- /post -->  </font><br></p></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=pacpac" target="_blank">pacpac</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3754138&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3754138</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">3:58 am on Sep 29, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#fcfcfc" height="120"><!-- post 3754138 --><font size="2" face="verdana" color="#000000"> <br> Thanks cameraman for the welcome. <br>"When someone's <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#ddddaa">expired</b>, you won't see the variables that you set in $_<b style="color:black;background-color:#ffffbb">session</b>" ... That's correct. <br>But, as a coder, <b style="color:black;background-color:#ffffaa">to</b> put it more precisely ---&gt; <br>When certain conditions are met (mainly when the time limit is reached), I will destroy the <b style="color:black;background-color:#ffffbb">session</b> in my code. I'm not sure which variables <b style="color:black;background-color:#ffffaa">to</b> check and when <b style="color:black;background-color:#ffffaa">to</b> destroy the <b style="color:black;background-color:#ffffbb">session</b>.<!-- /post -->  </font><br></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=hal12b" target="_blank">hal12b</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3754704&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3754704</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">5:48 pm on Sep 29, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#f5f5f5" height="120"><!-- post 3754704 --><font size="2" face="verdana" color="#000000"> <br> I would check <b style="color:black;background-color:#ffffaa">to</b> see if the <b style="color:black;background-color:#ffffbb">session</b> is equal <b style="color:black;background-color:#ffffaa">to</b> your value. If it is, do nothing, if it isn't redirect the user <b style="color:black;background-color:#ffffaa">to</b> a login page? I'm fairly new <b style="color:black;background-color:#ffffaa">to</b> PHP <b style="color:black;background-color:#ffffaa">to</b>o, but this is what I did in the past for ASP pages.<!-- /post -->  </font><br></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=grallis" target="_blank">grallis</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3754745&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3754745</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">6:35 pm on Sep 29, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#fcfcfc" height="120"><!-- post 3754745 --><font size="2" face="verdana" color="#000000"> <br> pacpac, so you're looking <b style="color:black;background-color:#ffffaa">to</b> destroy the <b style="color:black;background-color:#ffffbb">session</b> in your code <b>before</b> php's <b style="color:black;background-color:#ffffbb">session</b> limit is up? If you'd like, a more efficient way, if you have access <b style="color:black;background-color:#ffffaa">to</b> your php.ini or your host an change it for you is, <b style="color:black;background-color:#ffffaa">to</b> lower the <b style="color:black;background-color:#ffffbb">session</b> time limit right in php, that way, you don't have <b style="color:black;background-color:#ffffaa">to</b> use extra code and a possible cron job <b style="color:black;background-color:#ffffaa">to</b> destroy the <b style="color:black;background-color:#ffffbb">session</b>s.<!-- /post -->  </font><br></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=pacpac" target="_blank">pacpac</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3755247&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3755247</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">3:45 am on Sep 30, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#f5f5f5" height="120"><!-- post 3755247 --><font size="2" face="verdana" color="#000000"> <br> That's right, grallis. I wish <b style="color:black;background-color:#ffffaa">to</b> set my own <b style="color:black;background-color:#ffffbb">session</b> duration and I would destroy the <b style="color:black;background-color:#ffffbb">session</b> when that limit is reached irrespective of the default PHP <b style="color:black;background-color:#ffffbb">session</b> limit. <p><b>"a more efficient way, if you have access <b style="color:black;background-color:#ffffaa">to</b> your php.ini or your host can change it for you is, <b style="color:black;background-color:#ffffaa">to</b> lower the <b style="color:black;background-color:#ffffbb">session</b> time limit right in php, that way, you don't have <b style="color:black;background-color:#ffffaa">to</b> use extra code and a possible cron job <b style="color:black;background-color:#ffffaa">to</b> destroy the <b style="color:black;background-color:#ffffbb">session</b>s. "</b>---&gt; </p></font><p><font size="2" face="verdana" color="#000000">Do you want <b style="color:black;background-color:#ffffaa">to</b> say that if I manage <b style="color:black;background-color:#ffffaa">to</b> modify php.ini for the <b style="color:black;background-color:#ffffbb">session</b> limit, the <b style="color:black;background-color:#ffffbb">session</b>-expire will be au<b style="color:black;background-color:#ffffaa">to</b>matically checked? If that is the case, then, how would PHP decide where <b style="color:black;background-color:#ffffaa">to</b> redirect the control? Or, is there any variable (boolean, probably) which will tell me whether a <b style="color:black;background-color:#ffffbb">session</b> is still on or <b style="color:black;background-color:#ddddaa">expired</b> so that when its value is 'false' or '0', I will redirect the administra<b style="color:black;background-color:#ffffaa">to</b>r <b style="color:black;background-color:#ffffaa">to</b> the log-in page?<!-- /post -->  </font><br></p></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=grallis" target="_blank">grallis</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3755286&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3755286</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">5:02 am on Sep 30, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#fcfcfc" height="120"><!-- post 3755286 --><font size="2" face="verdana" color="#000000"> <br> Sorry, perhaps I misunders<b style="color:black;background-color:#ffffaa">to</b>od your question. I thought you were wanting <b style="color:black;background-color:#ffffaa">to</b> check the duration of the <b style="color:black;background-color:#ffffbb">session</b> manually(<b style="color:black;background-color:#ffffaa">to</b> shorten it), and destroy it if necessary.  <p>I'll go on the premise that you're new <b style="color:black;background-color:#ffffaa">to</b> php as you've stated and give it a once over, so bear with me, I'm not trying <b style="color:black;background-color:#ffffaa">to</b> insinuate you dont know some basics. </p><p>Changing the <b style="color:black;background-color:#ffffbb">session</b> time limit in the php.ini will only shorten the amount of time the <b style="color:black;background-color:#ffffbb">session</b> can sit idle.  </p><p>In your code, at the <b style="color:black;background-color:#ffffaa">to</b>p of the page, you'd still have <b style="color:black;background-color:#ffffaa">to</b> validate <b style="color:black;background-color:#ffffaa">to</b> see if the user <b style="color:black;background-color:#11ffff">has</b> the proper permissions <b style="color:black;background-color:#ffffaa">to</b> access the page. </p></font><p><font size="2" face="verdana" color="#000000">Proper permissions in our case using the $_<b style="color:black;background-color:#ffffbb">session</b> array means setting certain $_<b style="color:black;background-color:#ffffbb">session</b>['keys'] = "and assigning them values";. If something <b style="color:black;background-color:#ffffaa">to</b> the effect of: <br></font><code><br>if(!isset($_SESSION['keys'])){<br>// redirect<br>}<br></code><font size="2" face="verdana" color="#000000"> <br>turns out <b style="color:black;background-color:#ffffaa">to</b> be false, the user's <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#ddddaa">expired</b>, or the user did not have a <b style="color:black;background-color:#ffffbb">session</b> <b style="color:black;background-color:#ffffaa">to</b> begin with ... therefore they are not granted access <b style="color:black;background-color:#ffffaa">to</b> access the page. </font></p><p><font size="2" face="verdana" color="#000000">So, <b style="color:black;background-color:#ffffaa">to</b> put this al<b style="color:black;background-color:#ffffaa">to</b>gether, at the <b style="color:black;background-color:#ffffaa">to</b>p of your page, before you output any HTML(because that's how <b style="color:black;background-color:#ffffbb">session</b>_start() works), you need <b style="color:black;background-color:#ffffaa">to</b> add this: <br></font><code><br>&lt;?</code></p><p><code>// need this for a session to work<br>// This checks to see if you have any current sessions, and <br>// basically *attaches* you to it if you have one. If you don't have<br>// a current session, it assigns you a session id<br>[b]session_start();[/b]</code></p><p><code>?&gt;<br></code><font size="2" face="verdana" color="#000000"> </font></p><p><font size="2" face="verdana" color="#000000">Now ... directly below that <b style="color:black;background-color:#ffffbb">session</b> start, you'll want <b style="color:black;background-color:#ffffaa">to</b> validate a <b style="color:black;background-color:#ffffbb">session</b>: </font></p><p><code><br>&lt;?<br>// we'll test for the existence of a $_SESSION variable<br>if(!isset($_SESSION['user'])){<br> // redirect out<br> header("Location: login.php");<br> die(); // need this, or the rest of the script executes<br>}<br>?&gt;<br></code><font size="2" face="verdana" color="#000000"> </font></p><p><font size="2" face="verdana" color="#000000">Now, if your php.ini <b style="color:black;background-color:#ffffbb">session</b> limit is set <b style="color:black;background-color:#ffffaa">to</b> say 45 minutes, after 45 minutes of inactivity, it will au<b style="color:black;background-color:#ffffaa">to</b>matically kill your <b style="color:black;background-color:#ffffbb">session</b>, and when you come back <b style="color:black;background-color:#ffffaa">to</b> click around, it will get <b style="color:black;background-color:#ffffaa">to</b> the part above and redirect you somewhere friendlier like "login.php" because your <b style="color:black;background-color:#ffffbb">session</b> variables are not there. </font></p><p><font size="2" face="verdana" color="#000000">********************************************************** <br>General workings of a PHP <b style="color:black;background-color:#ffffbb">session</b> <br>********************************************************** <br>1. You connect <b style="color:black;background-color:#ffffaa">to</b> a webpage with PHP <br>2. That webpage <b style="color:black;background-color:#11ffff">has</b> the <b style="color:black;background-color:#ffffbb">session</b>_start(); code at the <b style="color:black;background-color:#ffffaa">to</b>p <br>3. An if statement kind of happens next: <br> </font><table cellpadding="0" cellspacing="5" border="0"><tbody><tr><td bgcolor="#333333"><table cellpadding="5" width="100%" cellspacing="1" border="0"><tbody><tr><td bgcolor="#f2f2ff"><font size="2" face="arial" color="#222222">PHP checks your client-side cookies <b style="color:black;background-color:#ffffaa">to</b> see if you have a cookie for that domain, which <b style="color:black;background-color:#11ffff">has</b> a <b style="color:black;background-color:#ffffbb">session</b> id that matches a <b style="color:black;background-color:#ffffbb">session</b>_id in it's current <b style="color:black;background-color:#ffffbb">session</b>s list </font></td></tr></tbody></table></td></tr></tbody></table><font size="2" face="verdana" color="#000000"> </font></p><p><font size="2" face="verdana" color="#000000"> </font><table cellpadding="0" cellspacing="5" border="0"><tbody><tr><td bgcolor="#333333"><table cellpadding="5" width="100%" cellspacing="1" border="0"><tbody><tr><td bgcolor="#f2f2ff"><font size="2" face="arial" color="#222222">If you don't have a <b style="color:black;background-color:#ffffbb">session</b> id set, it creates one, and creates a blank cookie file(it's an actual flat file named with your <b style="color:black;background-color:#ffffbb">session</b> id) on the server-side. </font></td></tr></tbody></table></td></tr></tbody></table><font size="2" face="verdana" color="#000000"> </font></p><p><font size="2" face="verdana" color="#000000"> </font><table cellpadding="0" cellspacing="5" border="0"><tbody><tr><td bgcolor="#333333"><table cellpadding="5" width="100%" cellspacing="1" border="0"><tbody><tr><td bgcolor="#f2f2ff"><font size="2" face="arial" color="#222222">Now if you pass <b style="color:black;background-color:#ffffbb">session</b> validation, it populates your line in your PHP <b style="color:black;background-color:#ffffbb">session</b> file with all the variables that you set via $_<b style="color:black;background-color:#ffffbb">session</b>['user'] = "Jim"; <br> </font></td></tr></tbody></table></td></tr></tbody></table><font size="2" face="verdana" color="#000000"> </font></p><p><font size="2" face="verdana" color="#000000"> </font><table cellpadding="0" cellspacing="5" border="0"><tbody><tr><td bgcolor="#333333"><table cellpadding="5" width="100%" cellspacing="1" border="0"><tbody><tr><td bgcolor="#f2f2ff"><font size="2" face="arial" color="#222222">If you have a <b style="color:black;background-color:#ffffbb">session</b> file set already, it knows that you have passed validation(therefore the $_<b style="color:black;background-color:#ffffbb">session</b> array is intact the way you had set it upon validation) and the user is granted access <b style="color:black;background-color:#ffffaa">to</b> the page. </font></td></tr></tbody></table></td></tr></tbody></table><font size="2" face="verdana" color="#000000"> </font></p><p><font size="2" face="verdana" color="#000000">I'm tired, so I hope this helps you understand PHP <b style="color:black;background-color:#ffffbb">session</b>s a little better.<!-- /post -->  </font><br></p></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=pacpac" target="_blank">pacpac</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3755744&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3755744</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">4:51 pm on Sep 30, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#f5f5f5" height="120"><!-- post 3755744 --><font size="2" face="verdana" color="#000000"> <br> Thanks, grallis. I really have <b style="color:black;background-color:#ffffaa">to</b> <b>(and wish <b style="color:black;background-color:#ffffaa">to</b>)</b> know the basics of PHP <b style="color:black;background-color:#ffffbb">session</b>s.  <br>Now, back <b style="color:black;background-color:#ffffaa">to</b> business ... <br>Your post <b style="color:black;background-color:#11ffff">has</b> certainly helped me <b style="color:black;background-color:#ffffaa">to</b> understand PHP <b style="color:black;background-color:#ffffbb">session</b>s somewhat better. If you can continue with your kind help, can you tell me the difference between <b style="color:black;background-color:#ffffbb">session</b>_expire and <b style="color:black;background-color:#ffffbb">session</b>_cache_expire?<!-- /post -->  </font><br></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=pacpac" target="_blank">pacpac</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3755786&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3755786</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">5:16 pm on Sep 30, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#fcfcfc" height="120"><!-- post 3755786 --><font size="2" face="verdana" color="#000000"> <br> Actually, I wanted <b style="color:black;background-color:#ffffaa">to</b> ask --- <br>What is the difference between <b style="color:black;background-color:#ffffbb">session</b>.gc_maxlifetime and <b style="color:black;background-color:#ffffbb">session</b>_cache_expire?<!-- /post -->  </font><br></td></tr><!-- post end -->




<!-- post begin -->
<!-- top --><tr bgcolor="#cccccc"><td nowrap="" rowspan="2" valign="top" width="12%"><font size="3" face="verdana" color="#000000"><b><a href="http://www.webmasterworld.com/profilev4.cgi?action=view&member=grallis" target="_blank">grallis</a></b></font><br><font size="1" face="verdana" color="#000000"></font><br><a href="http://www.webmasterworld.com/printerfriendlyv5.cgi?forum=88&discussion=3753255&serial=3755815&user="><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/pntr.png" border="0" vspace="3" title="print msg"></a><br> <font size="1" face="verdana" color="#000000"><br><br>#:3755815</font></td><td align="right" nowrap="" colspan="2" height="14" bgcolor="#cccccc">&nbsp;<font size="2" face="verdana" color="#000000">5:53 pm on Sep 30, 2008 <small>(gmt 0)</small></font></td></tr><tr><td colspan="2" bgcolor="#f5f5f5" height="120"><!-- post 3755815 --><font size="2" face="verdana" color="#000000"> <br> Now you've got me. I haven't worked with my php.ini file in some time, but I do know that <b style="color:black;background-color:#ffffbb">session</b>.gc_maxlifetime is the variable you most likely want <b style="color:black;background-color:#ffffaa">to</b> change <b style="color:black;background-color:#ffffaa">to</b> ad<b style="color:black;background-color:#eeeeff">just</b> your <b style="color:black;background-color:#ffffbb">session</b> lifetime. The "GC" stands for "Garbage Collec<b style="color:black;background-color:#ffffaa">to</b>r". Most languages have a Garbage Collec<b style="color:black;background-color:#ffffaa">to</b>r of sorts ... in this case, the garbage collec<b style="color:black;background-color:#ffffaa">to</b>r kills the <b style="color:black;background-color:#ffffbb">session</b> after x time because it's viewed as old and is now considered <b style="color:black;background-color:#ffffaa">to</b> be garbage. <p>As for <b style="color:black;background-color:#ffffbb">session</b>_cache_expire ... I've never had <b style="color:black;background-color:#ffffaa">to</b> change or deal with that. It <b style="color:black;background-color:#11ffff">has</b> <b style="color:black;background-color:#ffffaa">to</b> deal with the time <b style="color:black;background-color:#ffffaa">to</b> live for cached pages. I would leave it alone unless you can't get the results you want. </p><p>Another way <b style="color:black;background-color:#ffffaa">to</b> kill a <b style="color:black;background-color:#ffffbb">session</b> before PHP does is <b style="color:black;background-color:#ffffaa">to</b> set a time in seconds upon each page access in a <b style="color:black;background-color:#ffffbb">session</b> variable. Now take the current time in seconds, subtract it by the last page access time you set in the $_<b style="color:black;background-color:#ffffbb">session</b> array and if the difference is greater than your cus<b style="color:black;background-color:#ffffaa">to</b>m max <b style="color:black;background-color:#ffffbb">session</b> seconds(whic yo uset in a variable), kill the <b style="color:black;background-color:#ffffbb">session</b>. When the <b style="color:black;background-color:#ffffbb">session</b> validation check happens directly below, it will kick them <b style="color:black;background-color:#ffffaa">to</b> the login page. </p></font><p><font size="2" face="verdana" color="#000000">I do something similar on one of my sites <b style="color:black;background-color:#ffffaa">to</b> see which other users are online.<!-- /post -->  </font><br></p></td></tr><!-- post end -->

<!-- /jpgr -->
<tr bgcolor="#cccccc" align="center"><td colspan="4"><center><table cellspacing="1" cellpadding="1" width="100%"><tbody><tr align="center">

</tr><tr bgcolor="#e8e8ff"><td colspan="3" align="right"></td></tr>

<tr bgcolor="#e8e8ff"><td colspan="3"><table cellspacing="1" cellpadding="1"><tbody><tr><td><font color="#000000" size="2" face="verdana"><b>Global Options</b>:</font></td><td> <form action="http://www.webmasterworld.com/search.cgi" method="post"><input type="hidden" name="action" value="go"><input type="hidden" name="try" value="1"><input type="text" size="15" name="terms" value=""><input type="submit" name="submit" value=" Search "></form>

</td><td>&nbsp;<a href="http://www.webmasterworld.com/php/3753255.htm#"><font color="#000000" size="2" face="verdana">top</font></a></td><td>&nbsp;<a href="http://www.webmasterworld.com/"><font color="#000000" size="2" face="verdana">home</font></a></td><td>&nbsp;<a href="http://www.webmasterworld.com/search.cgi"><font color="#000000" size="2" face="verdana">search</font></a></td><td>&nbsp;<a href="http://www.webmasterworld.com/activev5.cgi?sortbj=Message-Count&sortdir=forward&ashow=20"><font color="#000000" size="2" face="verdana">open messages</font></a></td><td>&nbsp;<a href="http://www.webmasterworld.com/activev5.cgi"><font color="#000000" size="2" face="verdana">active posts</font></a> &nbsp;<iframe src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/tweet_button(1).html" allowtransparency="true" frameborder="0" scrolling="no" class="twitter-share-button twitter-count-horizontal" style="width: 110px; height: 20px; " title="Twitter For Websites: Tweet Button"></iframe><script type="text/javascript" src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/widgets.js"></script>&nbsp;<div id="___plusone_0" style="height: 20px; width: 90px; display: inline-block; text-indent: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; float: none; background-position: initial initial; background-repeat: initial initial; "><iframe allowtransparency="true" frameborder="0" hspace="0" id="I1_1309725994216" marginheight="0" marginwidth="0" name="I1_1309725994216" scrolling="no" src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/button.html" style="width: 90px; height: 20px; position: static; left: 0px; top: 0px; visibility: visible; " tabindex="-1" vspace="0" width="100%"></iframe></div></td></tr></tbody></table></td></tr>

</tbody></table></center></td></tr></tbody></table>&nbsp;<p>


</p></center></td></tr></tbody></table> 
 </center><center><table cellpadding="0" border="0" width="81%"><tbody><tr><td bgcolor="#e8e8f4"><table cellspacing="0" cellpadding="3" border="0" width="100%"><tbody><tr bgcolor="#aaaaff"><td><font size="2" face="arial" color="#000000"><b> <a href="http://www.webmasterworld.com/">Home</a> / <a href="http://www.webmasterworld.com/home.htm">Forums Index</a> / <a href="http://www.webmasterworld.com/category88.htm">Code, Content, and Presentation</a> / <a href="http://www.webmasterworld.com/php/">PHP Server Side Scripting</a> 
</b></font></td></tr></tbody></table></td></tr></tbody></table></center>

<center><a href="http://www.webmasterworld.com/feeds/forum88.rss" target="_blank"><img src="./PHP session management PHP Server Side Scripting forum at WebmasterWorld_files/rss.gif" border="0" alt="rss feed" title="PHP Server Side Scripting Channel at SearchEngineWorld"></a> <br></center>

<p>

</p><center><font size="1" face="arial">All trademarks and copyrights held by respective owners. Member comments are owned by the poster.<br> <font size="1" face="verdana"><a href="http://www.webmasterworld.com/help.cgi?cat=tos">Terms of Service</a> ¦ <a href="http://www.webmasterworld.com/help.cgi?cat=privacy">Privacy Policy</a> ¦ <a href="http://www.webmasterworld.com/breport.cgi">Report Problem</a> ¦ <a href="http://www.webmasterworld.com/help.cgi?cat=about">About</a></font> <br> WebmasterWorld ® and PubCon ® are a Registered Trademarks of WebmasterWorld Inc. <br> © <a href="http://www.webmasterworld.com/">WebmasterWorld</a> Inc. 1996-2011 <i>all rights reserved</i></font></center>



</body></html>