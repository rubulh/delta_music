<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />

<!-- Website Design By: www.happyworm.com -->
<title>Quick Start Guide : Step 7 : JavaScript to instance jPlayer for audio</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="description" content="The CSS styleable jQuery media player plugin with HTML5 support!" />
<meta name="keywords" content="jPlayer, jQuery, jQuery plugin, media, video, audio, media player, video player, audio player, mp3, mp4, m4a, m4v, aac, h264, ogg, oga, ogv, wav, webm" />
<meta name="company" content="Happyworm" />
<link href="/css/jPlayer.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="/graphics/jplayer.ico" type="image/x-icon" />
<!--[if IE]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!--[if IE 6]>
<link href="/css/ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link href="../../skin/jplayer.blue.monday.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script type="text/javascript" src="../../js/jquery.jplayer.min.js"></script>
<script type="text/javascript">
//<![CDATA[

$(document).ready(function(){

	$("#jquery_jplayer_1").jPlayer({
		ready: function () {
			$(this).jPlayer("setMedia", {
				m4a: "http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",
				oga: "http://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"
			});
		},
		swfPath: "../../js",
		supplied: "m4a, oga"
	});
});
//]]>
</script>
<script type="text/javascript">
(function() {
	var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
	s.type = 'text/javascript';
	s.async = true;
	s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
	t.parentNode.insertBefore(s, t);
})();
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-3557377-9']);
	_gaq.push(['_trackPageview']);

	(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>
<body class="guide">
<div id="container">

	<header>
	<a href="/"><img src="/graphics/jplayer_logo.gif" alt="jPlayer" /><h1>HTML5 Audio & Video for jQuery</h1></a>

		<p><a href="http://www.happyworm.com" title="a project by happyworm">a project by happyworm</a></p>
		<nav class="main">
			<ul>
				<li id="home"><a href="/">home</a></li>
				<li id="demos"><a href="/latest/demos/">demos</a></li>
				<li id="download"><a href="/download/">download</a></li>
				<li id="dev_guide"><a href="/latest/developer-guide/">dev guide</a></li>
				<li id="support"><a href="/support/">support</a></li>
				<li id="sites"><a href="/sites/">sites</a></li>
				<li id="about"><a href="/about/">about</a></li>
				<!-- <li id="skins"><a href="/skins/">skins</a></li> -->
			</ul>
		</nav>

	</header>
	
	<div id="content_main">

<nav>
			<ul id="breadcrumbs">
				<li><a href="../">Quick Start Guide (jPlayer 2.0.0)</a></li>
				<li>> Step 7</li>
			</ul>
</nav>
		<section>

			<h2>Step 7 : Add the JavaScript to instance jPlayer for audio</h2>

			<p>
				Now you will add the JavaScript that associates jPlayer with the HTML interface.
				To do this we will use the jQuery API and the jPlayer API, along with JavaScript code.
				For this guide, we are entering the code directly into the HTML source, but you can put it in an external file if you wish.
			</p>

			<p>
				To instance jPlayer, add the following line to the HTML of your page's &lt;head&gt;:
			</p>
<pre>
&lt;head&gt;
  &lt;script type="text/javascript"&gt;
    $(document).ready(function(){
      $("#jquery_jplayer_1").jPlayer({
        ready: function () {
          $(this).jPlayer("setMedia", {
            m4a: "http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",
            oga: "http://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"
          });
        },
        swfPath: "/js",
        supplied: "m4a, oga"
      });
    });
  &lt;/script&gt;
&lt;/head&gt;
</pre>
			<p>
				Take care to include the jPlayer JavaScript code after the jPlayer plugin is included in your page.
			</p>
			<p>
				Your &lt;head&gt; code should look like:
			</p>
<pre>
&lt;head&gt;
  &lt;link type="text/css" href="/skin/jplayer.blue.monday.css" rel="stylesheet" /&gt;
  &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="/js/jquery.jplayer.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
    $(document).ready(function(){
      $("#jquery_jplayer_1").jPlayer({
        ready: function () {
          $(this).jPlayer("setMedia", {
            m4a: "http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",
            oga: "http://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"
          });
        },
        swfPath: "/js",
        supplied: "m4a, oga"
      });
    });
  &lt;/script&gt;
&lt;/head&gt;
</pre>
			<p>
				And you will create the following audio player on your page.<br />
				Press play to start the media.
			</p>


		<div id="jquery_jplayer_1" class="jp-jplayer"></div>
		<div class="jp-audio">
			<div class="jp-type-single">
				<div id="jp_interface_1" class="jp-interface">
					<ul class="jp-controls">
						<li><a href="#" class="jp-play" tabindex="1">play</a></li>
						<li><a href="#" class="jp-pause" tabindex="1">pause</a></li>
						<li><a href="#" class="jp-stop" tabindex="1">stop</a></li>
						<li><a href="#" class="jp-mute" tabindex="1">mute</a></li>
						<li><a href="#" class="jp-unmute" tabindex="1">unmute</a></li>
					</ul>
					<div class="jp-progress">
						<div class="jp-seek-bar">
							<div class="jp-play-bar"></div>
						</div>
					</div>
					<div class="jp-volume-bar">
						<div class="jp-volume-bar-value"></div>
					</div>
					<div class="jp-current-time"></div>
					<div class="jp-duration"></div>
				</div>
				<div id="jp_playlist_1" class="jp-playlist">
					<ul>
						<li>Bubble</li>
					</ul>
				</div>
			</div>
		</div>


			<p class="media-copyright">Media used in demo: &copy; 2003 Miaow / Arnaud Laflaquiere - <a href="http://www.miaowmusic.com" target="_blank">MiaowMusic.com</a></p>
			<p>
				Now that you have seen what it does, lets review the code explaining each line.
			</p>
			<p>
				The <code><a href="http://docs.jquery.com/Tutorials:How_jQuery_Works#Launching_Code_on_Document_Ready">$(document).ready(handler)</a></code> code is part of jQuery and causes the handler function to be executed when the page is ready.
				Your code goes inside the {}.
			</p>
<pre>
$(document).ready(function(){
 // Code executed at jQuery ready.
});
</pre>
			<p>
				The <code>$("#jquery_jplayer_1").jPlayer(options)</code> is the <a href="../../developer-guide/#jPlayer-constructor">jPlayer constructor</a> and takes the contents of the JSON object in the {} as its options.
				The line is actually part jQuery and part jPlayer.
				The <code>$("#jquery_jplayer_1")</code> is a <a href="http://api.jquery.com/jQuery/">jQuery()</a> selector, which is used to select the jPlayer &lt;div&gt;.
				The <code>jPlayer(options)</code> is the <a href="../../developer-guide/#jPlayer-constructor">jPlayer constructor</a>.
			</p>
<pre>
$("#jquery_jplayer_1").jPlayer({
  // Options
});
</pre>
			<p>
				The options object passed to the jPlayer constructor is the only piece of pure JavaScipt, written as JSON, which stands for JavaScript Object Notation.
				Using JSON, we define an object with properties matching the jPlayer options that we want to configure.
				We define the <code><a href="../../developer-guide/#jPlayer-option-ready">ready</a></code> property to create a jPlayer ready event handler.
				We define the <code><a href="../../developer-guide/#jPlayer-option-swfPath">swfPath</a></code> property to set jPlayer's path to the Flash fallback SWF file.
				We define the <code><a href="../../developer-guide/#jPlayer-option-supplied">supplied</a></code> property to configure jPlayer ready to play either M4A files or OGA files, since we will be supplying both formats to increase x-browser HTML support.
				All other options will use their default value.
			</p>
<pre>
{
  ready: function () {
    // Code to execute at jPlayer ready
  },
  swfPath: "/js",
  supplied: "m4v, ogv"
}
</pre>
			<p>
				The ready event handler function uses the <code>$(this)</code> jQuery code to select the entity that generated the event, which is the jPlayer &lt;div&gt;.
				The <code>jPlayer("<a href="../../developer-guide/#jPlayer-setMedia">setMedia</a>", media)</code> jPlayer code sets up jPlayer with the media.
				The media is defined using a JSON object with properties matching the <code><a href="../../developer-guide/#jPlayer-option-supplied">supplied</a></code> formats and an optional poster image URL.
			</p>
<pre>
ready: function () {
  $(this).jPlayer("setMedia", {
    m4a: "http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",
    oga: "http://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"
  });
}
</pre>
			<p>
				Edit the media formats and their URLs to match those for your media.
				Remember to adjust the <code><a href="../../developer-guide/#jPlayer-option-supplied">supplied</a></code> option to match the formats you are supplying.
			</p>
			<p>
				Note that for audio, you must supply either M4A or MP3 files to satisfy both HTML5 and Flash solutions. An M4A file is an MP4 AAC encoded audio.
				The optional OGA format is used to increase x-browser support for HTML5 browsers such as Firefox and Opera.
			</p>
			<p><a href="../step-6-audio/">previous step</a> | <a href="../step-8-audio/">summary</a></p>

			<section class="note">
				<h3>Notes:</h3>
				<p>
					You should not issue commands to jPlayer before its ready event has occurred, otherwise the Flash fallback solution will not be ready and jPlayer will raise an error event.
				</p>
				<p>
					Top tip to kill IE is to have a sloppy JSON comma.<br />
					{prop1:value1,prop2:value2,}
				</p>
			</section>
		</section>
	</div>
	<aside>

			<div class="section highlight">
			<h2><a href="https://groups.google.com/forum/#!forum/jplayer">jPlayer Community</a></h2>
				<p> members and counting!</p>
				<form action="http://groups.google.com/group/jplayer/boxsubscribe">
					<input type="text" name="email" value="your email" class="placeholder" onfocus="javascript:if(this.value==='your email'){this.value='';this.style.color='#333';}" onblur="javascript:if(this.value===''){this.value='your email';this.style.color='#999';}"/>
					<input type="submit" value="join" class="btn" />
				</form>
		</div>

		<div class="section highlight">
			<h2>Hire Us!</h2>
			<p>Need a media based solution realized or just need some help. Hire <a href="http://www.happyworm.com">Happyworm</a>!<br />
			Contact: <a href="mailto:hire.us@happyworm.com" alt="Hire Happyworm" title="Hire Happyworm">hire.us@happyworm.com</a>.</p>
		</div>

				<div class="section highlight">
			<h2>Help us improve jPlayer</h2>
			<p>Developing and supporting jPlayer is almost a full-time job and we are really just beginning. Help us continue to help you.</p>
				<form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_s-xclick" /><input type="hidden" name="hosted_button_id" value="5356703" /><input type="image" src="http://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online." /><img alt="" border="0" src="https://www.paypal.com/en_GB/i/scr/pixel.gif" width="1" height="1" /><a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://www.jplayer.org"></a></form>
		</div>

		<!--<div class="section highlight">
			<h2><a href="http://jplayer.it">jPlayer.it</a></h2>
			<p>Customize your player!</p>
		</div>-->

		<div class="section  highlight">
			<h2>Plugin corner</h2>
			<ul>
				<li><a href="http://wordpress.org/extend/plugins/mp3-jplayer/">Wordpress</a></li>
				<li><a href="http://drupal.org/project/jplayer">Drupal</a></li>
				<li><a href="/sites/#jPlayer-plugin-sites">more...</a></li>
			</ul>
		</div>
		<div class="section ralign">
		<a href='https://developer.mozilla.org/en/JavaScript/Reference/' title='JavaScript Reference'><img src='/graphics/betterJS.gif' alt='JavaScript Reference'/></a>
		</div>
		<div class="section transbgr">
			<h3>Also by <a href="http://www.happyworm.com">Happyworm</a>:</h3>
			<h2><a href="http://www.happyworm.com/projects/Qwiiz/qwiiz-massively-multiplayer-quiz-game.htm">Qwiiz</a></h2>
			<p>Massively multiplayer real-time quiz game. Cross platform and tuned for the iPad. <a href="http://www.happyworm.com/projects/Qwiiz/qwiiz-massively-multiplayer-quiz-game.htm">Try it!</a></p>
		</div>

	</aside>
	<footer>
		<p>
			<a href="http://www.happyworm.com"><img src="/graphics/worm.jpg" />&copy; 2009 - 2011 Happyworm Ltd</a> - Last update: 4th January 2011		</p>
		<a href="http://www.w3.org/html/logo/"><img src="http://www.w3.org/html/logo/badge/html5-badge-h-css3-semantics.png" width="165" height="64" alt="HTML5 Powered with CSS3 / Styling, and Semantics" title="HTML5 Powered with CSS3 / Styling, and Semantics"></a>
		<a id="twitter" href="http://twitter.com/happyworm"><img alt="twitter" src="/graphics/twitter_small.png"/> follow us on twitter </a>
	</footer>
</div>
</body>
</html>
