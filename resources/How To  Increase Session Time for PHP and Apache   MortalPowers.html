<!DOCTYPE html>
<!-- saved from url=(0076)http://mortalpowers.com/news/how-to-increase-session-time-for-php-and-apache -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>How To: Increase Session Time for PHP and Apache | MortalPowers</title>
<meta name="keywords" content="linux, kde, technology, x-box, xbox, gaming, software development, stuph, files, AI, Artificial, Intelligence, philosophy, Unreal Tournament, 3D, Rendering, Wireframe, reality, meaning, life">
<meta name="description" content="Session management in PHP is one of its greatest strengths. The only downside of its session management is in the expiration period for sessions.  By default in Ubuntu the timeout is set to about 24 minutes, which is fine for most situations. When do">
<meta name="google-site-verification" content="3yV8ots1xKi9wmWyOQNo4UDe7gWwFlxAeZpWa7Hqy5I">
<link href="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/mp.css" rel="stylesheet" type="text/css" media="screen"> 
<link rel="icon" href="http://mortalpowers.com/images/favicon.png">
<link rel="alternate" type="application/rss+xml" title="MortalPowers News" href="http://feeds.feedburner.com/mortalpowers">

<script type="text/javascript" src="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/jquery.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
	$('table.paginated').each(function() {
		var currentPage = 0;
		var numPerPage = 15;
		var table = $(this);
		//alert(table.find('tbody tr'));
		var repaginate = function() {
			table.find('tbody tr').show()
				.filter(function (index) {
					 
					return (index < currentPage * numPerPage) || (index > (currentPage + 1) * numPerPage - 1);
				}).hide().end();
		}
	
		var numRows = table.find('tbody tr').length ;
		var numPages = Math.ceil(numRows / numPerPage) ;
		var $pager = $('<br/><div class="pager"></div>');
		for (var page = 0;		page < numPages ;page++) { 
			$('<span class="page-number">' + (page + 1) + '</span>')
				.bind('click',{'newPage':page},(function(event) {
					currentPage = event.data['newPage'];
					repaginate();
				}))
				.appendTo($pager).addClass('clickable') ;
		} 
		var searchBox = $('<input type="text" placeholder="search"/>').keyup( function( objEvent){
			if(this.value.length>3) {
				table.find('tbody tr').hide();
				table.find("tbody tr:contains('" + this.value + "')").show();
			} else {
				table.find('tbody tr').show();
			}
			
		});
		searchBox.appendTo($pager);
		$pager.insertBefore(table) ;
		repaginate();
	})
})

function showTagOptions(id,element) {
	var tagBox = $(element).parent();
	tagBox = tagBox.find(".tagboxmore");
	
	var hookup = function() {
		tagBox.find('a').each(function() {
			var tagOption = $(this);
			tagOption.click(function() {;
				$.get("/tag-server.php?action=add&id=" + id + "&tag=" + tagOption.html());
				$(this).hide().end();
				return false;
			});
		});
	}
	
	tagBox.load("/tag-server.php?action=list&id=" + id,hookup);
}
</script>
<script type="text/javascript" async="" src="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/ga.js"></script></head>
<body>
<div class="tile">
	<a href="http://mortalpowers.com/">
		<img src="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/mplogo3.png" alt="MortalPowers, Inc. Logo" width="305" style="padding:5px;">
	</a>
</div>
<div class="linkscontainer">
	<nav><div class="linkheader"><a href="http://mortalpowers.com/view-all-articles.php">Articles</a></div>
	

<form action="http://mortalpowers.com/search" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1262110641290248:u3y23an7i80">
    <input type="hidden" name="cof" value="FORID:10">
    <input type="hidden" name="ie" value="ISO-8859-1">
    <input type="text" name="q" size="20">
    <input type="submit" name="sa" value="Search">
  </div>
</form>
<!--<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>-->


	<a href="http://mortalpowers.com/tags/development">Development</a>
	<a href="http://mortalpowers.com/tags/projects">My Projects</a>
	<a href="http://mortalpowers.com/tags/linux">Linux</a>
	<a href="http://mortalpowers.com/tags/browsers">Browsers</a>
	<a href="http://mortalpowers.com/tags/git">Git Source Control</a>
	<a href="http://mortalpowers.com/tags/android">Android</a>
	<div class="linkheader">Entertainment</div>
	<a href="http://mortalpowers.com/ai/ai.php">Elmer the AI</a>
	<a href="http://mortalpowers.com/yahtzee.php">Yahtzee (PHP)</a>
	<a href="http://mortalpowers.com/yahtzee.swf">Yahtzee (Flash)</a>
	<a href="http://mortalpowers.com/video-gallery/">HTML5 Video Gallery</a>
	<a href="http://www.stonedmonkeyproductions.com/">Other Video</a>
	<a href="http://mortalpowers.com/photography.php">Photography</a>
	<div class="linkheader">Reference</div>
	<a href="http://mortalpowers.com/admin.php">Admin Home</a>
	<a href="http://mortalpowers.com/my-geek-life.html">My Geek Life</a>
	<a href="http://mortalpowers.com/gzip-detector.php">GZIP Detector</a>
	<a href="http://mortalpowers.com/wsg/">Web Server Guide</a>
	<a href="http://feeds.feedburner.com/mortalpowers">Subscribe with RSS</a>
	<a href="http://www.anrdoezrs.net/click-3440226-10440554">NewEgg</a>
	<!--<a href="/xbox/index.php">X-Box Archives</a>
	<a href="/xbox/Archives.php">N64 Archives</a>-->
	<!--<a href="/portfolio.html">Portfolio</a>-->
	<a href="http://andyforsberg.com/">Andy Forsberg</a>
	<a href="http://mortalpowers.com/contact-us.php">Contact Us</a>
	<div class="ads">
		<script type="text/javascript"><!--
                        google_ad_client = "pub-1262110641290248";
                        google_ad_width = 120;
                        google_ad_height = 600;
                        google_ad_format = "120x600_as";
                        google_color_border = "0F1110";
                        google_color_bg = "FFFFFF";
                        google_color_link = "000000";
                        google_color_url = "990099";
                        google_color_text = "003366";
                //--></script>
                <script type="text/javascript" src="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/show_ads.js">
                </script><ins style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:120px"><ins id="aswift_0_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:120px"><iframe allowtransparency="true" frameborder="0" height="600" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="120" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
	</div>
</nav>
</div>
<div class="mainpane">
	
<div class="newsheader"><h1><a href="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/How To  Increase Session Time for PHP and Apache   MortalPowers.html" class="newstitle">How To: Increase Session Time for PHP and Apache</a> </h1>(by PeEll)<span class="newsdate">2011.01.03</span></div>
	<div style="margin-bottom:30px;"><p>Session management in PHP is one of its greatest strengths. The only downside of its session management is in the expiration period for sessions.  By default in Ubuntu the timeout is set to about 24 minutes, which is fine for most situations. When doing article editing or other things that can take more than 24 minutes, however, it's frustrating to submit a form and have a session expiry lose the data you have been working on.</p>
<p>One way to overcome the time limit is to have regular automatic saves done via AJAX, but another technique is to increase the session time.  In order to change the session timeout, the change needs to be made in the PHP configuration.  In some distributions, this file is stored in <span class="code">/etc/php.ini</span>.  In Ubuntu and some other distributions, this file is stored in <span class="code">/etc/php5/apache2/php.ini</span>. This setting is controlled by <span class="code">session.gc_maxlifetime</span>.  What this setting does is to control the session cleanup.  After making any changes to this setting in the <span class="code">php.ini</span>, make sure you restart apache to ensure that the version of PHP being used by Apache is updated with your configuration changes.</p>
<p>In PHP, sessions are probabilistically erased at regular intervals after gc_maxlifetime.  By changing this max lifetime, you increase the time for which the session will be valid.  You could also make changes to the divisor or probability of cleanup, but I have found that these settings can simply be left to their original values without negatively affecting the functioning of the sessions.</p><br><a href="http://mortalpowers.com/comment/article-how-to-increase-session-time-for-php-and-apache">comments</a> | <a href="./How To  Increase Session Time for PHP and Apache   MortalPowers_files/How To  Increase Session Time for PHP and Apache   MortalPowers.html">permalink</a></div>
	
	<br><br>
	
	<div class="copyright">        <a href="http://mortalpowers.com/contact-us.php">Contact Us</a>
<br>
Â© 2003-2011 MortalPowers, Inc.
		
	</div>
</div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7495251-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();

</script>

<!--[if IE 6]>
<script type="text/javascript">  
	var IE6UPDATE_OPTIONS = {
		icons_path: "http://static.ie6update.com/hosted/ie6update/images/"
	}
</script>
<script type="text/javascript" src="http://static.ie6update.com/hosted/ie6update/ie6update.js"></script>
<![endif]-->


</body></html>